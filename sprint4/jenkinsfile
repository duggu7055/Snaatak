@Library('shared-library') _

node {
    // Define environment variables
    env.GIT_BRANCH     = 'main'
    env.GIT_REPO_URL   = 'https://github.com/duggu7055/Terraform-static-code.git'

    // Terraform directory path inside the repo (adjust if different)
    def terraformDirectory = 'terraform/network-skeleton/vpc'

    def terraformPipeline = new org.downtimecrew.template.terraformCD.terraform()
    terraformPipeline.call(
        env.GIT_REPO_URL,
        env.GIT_BRANCH,
        env.GIT_CREDS_ID,
        terraformDirectory
    )
}
