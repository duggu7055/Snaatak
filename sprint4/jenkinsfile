@Library('React_SCA_Library') _
node {
    // Parameters
    def URL = 'https://github.com/duggu7055/Snaatak.git'
    def BRANCH = 'main'
    def PROJECT_KEY = 'ReactSCA-Project'
    def SONAR_URL = 'http://192.168.10.184:9000'
    def SONAR_SOURCES = 'src'
    def SONAR_TOKEN = 'durgesh-sonar'
    def CREDS_ID = 'yuvraj-git'

    // Steps
    checkout scm // Example of checking out the code
    echo "Starting SonarQube analysis for branch: ${BRANCH}"

    def reactSCA = new org.downtimecrew.template.reactSCA.reactSCA()
    reactSCA.call(
        BRANCH,
        URL,
        CREDS_ID,
        PROJECT_KEY,
        SONAR_URL,
        SONAR_SOURCES,
        SONAR_TOKEN
    )
}
